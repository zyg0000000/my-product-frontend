# å¼€å‘æŒ‡å—

## ğŸ“‹ ç›®å½•
- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [å¼€å‘æµç¨‹](#å¼€å‘æµç¨‹)
- [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
- [APIè§„èŒƒ](#apiè§„èŒƒ)
- [æµ‹è¯•è§„èŒƒ](#æµ‹è¯•è§„èŒƒ)
- [éƒ¨ç½²æµç¨‹](#éƒ¨ç½²æµç¨‹)

---

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

AgentWorks æ˜¯ä¸€ä¸ªå¤šå¹³å°è¾¾äººç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒæŠ–éŸ³ã€å°çº¢ä¹¦ã€Bç«™ã€å¿«æ‰‹ç­‰å¹³å°çš„è¾¾äººä¿¡æ¯ç®¡ç†ã€ä»·æ ¼ç®¡ç†ã€è¿”ç‚¹ç®¡ç†ç­‰åŠŸèƒ½ã€‚

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
- **è¾¾äººç®¡ç†**ï¼šå¤šå¹³å°è¾¾äººä¿¡æ¯ç»´æŠ¤
- **ä»·æ ¼ç®¡ç†**ï¼šæ—¶é—´åºåˆ—åŒ–çš„ä»·æ ¼æ¡£ä½ç®¡ç†
- **è¿”ç‚¹ç³»ç»Ÿ**ï¼šæœºæ„/ç‹¬ç«‹è¿”ç‚¹æ¨¡å¼ç®¡ç†
- **æœºæ„ç®¡ç†**ï¼šæœºæ„ä¿¡æ¯å’Œè¿”ç‚¹æ‰¹é‡ç®¡ç†
- **æœç´¢ç­›é€‰**ï¼šå¤šç»´åº¦æ™ºèƒ½ç­›é€‰ç³»ç»Ÿ

---

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**ï¼šReact 18 + TypeScript
- **æ„å»ºå·¥å…·**ï¼šVite 5
- **UI æ¡†æ¶**ï¼šAnt Design Pro 2.x + Ant Design 5.xï¼ˆv3.0 æ–°å¢ï¼‰
- **æ ·å¼æ–¹æ¡ˆ**ï¼šTailwind CSS 3 + Ant Designï¼ˆæ··åˆæ¨¡å¼ï¼‰
- **è·¯ç”±ç®¡ç†**ï¼šReact Router 6
- **çŠ¶æ€ç®¡ç†**ï¼šReact Hooks + Context API
- **å›¾æ ‡åº“**ï¼šAnt Design Icons + Heroicons

### åç«¯æŠ€æœ¯
- **è¿è¡Œæ—¶**ï¼šNode.js
- **äº‘å‡½æ•°**ï¼šCloudflare Workers
- **æ•°æ®åº“**ï¼šMongoDB Atlas
- **éªŒè¯åº“**ï¼šè‡ªå®šä¹‰éªŒè¯å‡½æ•°

### å¼€å‘å·¥å…·
- **åŒ…ç®¡ç†**ï¼šnpm
- **ä»£ç æ ¼å¼åŒ–**ï¼šPrettier
- **ä»£ç æ£€æŸ¥**ï¼šESLint
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šGit

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
my-product-frontend/
â”œâ”€â”€ frontends/
â”‚   â”œâ”€â”€ agentworks/          # React åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ api/         # API æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ components/  # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/       # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/       # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ types/       # TypeScript ç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/       # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â””â”€â”€ styles/      # å…¨å±€æ ·å¼
â”‚   â”‚   â””â”€â”€ public/          # é™æ€èµ„æº
â”‚   â””â”€â”€ byteproject/         # æ—§ç‰ˆé¡¹ç›®ï¼ˆå‚è€ƒï¼‰
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”œâ”€â”€ docs/                    # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ CHANGELOG.md        # æ›´æ–°æ—¥å¿—
â”‚   â”œâ”€â”€ UI_UX_GUIDELINES.md # UI/UXè§„èŒƒ
â”‚   â”œâ”€â”€ DEVELOPMENT_GUIDELINES.md # å¼€å‘æŒ‡å—
â”‚   â””â”€â”€ README.md           # é¡¹ç›®è¯´æ˜
â””â”€â”€ package.json
```

### æ ¸å¿ƒç›®å½•è¯´æ˜

#### `/api` - API æ¥å£å±‚
- `talent.ts` - è¾¾äººç›¸å…³æ¥å£
- `agency.ts` - æœºæ„ç›¸å…³æ¥å£
- `rebate.ts` - è¿”ç‚¹ç›¸å…³æ¥å£
- `price.ts` - ä»·æ ¼ç›¸å…³æ¥å£

#### `/components` - ç»„ä»¶åº“
- **Ant Design ç»„ä»¶**ï¼šModalï¼ˆå¼¹çª—åŸºç¡€ï¼‰, Toastï¼ˆå…¼å®¹ä¿ç•™ï¼‰
- **ä¸šåŠ¡å¼¹çª—ç»„ä»¶**ï¼š
  - AgencyFormModal - æœºæ„è¡¨å•ï¼ˆProForm + ProCardï¼‰
  - AgencyDeleteModal - æœºæ„åˆ é™¤ç¡®è®¤
  - AgencyRebateModal_v2 - æœºæ„è¿”ç‚¹ç®¡ç†ï¼ˆTabs + ProTableï¼‰
  - EditTalentModal - è¾¾äººç¼–è¾‘ï¼ˆProForm + ProCardï¼‰
  - DeleteConfirmModal - è¾¾äººåˆ é™¤ç¡®è®¤
  - RebateManagementModal - è¾¾äººè¿”ç‚¹ç®¡ç†
  - PriceModal - ä»·æ ¼ç®¡ç†
- **å¸ƒå±€ç»„ä»¶**ï¼šLayout, ErrorBoundary

#### `/pages` - é¡µé¢ç»„ä»¶
- **Talents/** - è¾¾äººç®¡ç†æ¨¡å—
  - BasicInfo - åŸºç¡€ä¿¡æ¯åˆ—è¡¨ï¼ˆæ‰‹å†™è¡¨æ ¼ï¼‰
  - CreateTalent - åˆ›å»ºè¾¾äºº
  - Agencies - æœºæ„ç®¡ç†ï¼ˆProTable v2.0ï¼‰
- **Performance/** - è¾¾äººè¡¨ç°æ¨¡å—
  - PerformanceHome - è¡¨ç°æ•°æ®ï¼ˆProTable v2.0ï¼‰
- **Settings/** - è®¾ç½®æ¨¡å—
  - PerformanceConfig - è¡¨ç°é…ç½®

#### `/types` - ç±»å‹å®šä¹‰
- `talent.ts` - è¾¾äººç›¸å…³ç±»å‹
- `agency.ts` - æœºæ„ç›¸å…³ç±»å‹
- `rebate.ts` - è¿”ç‚¹ç›¸å…³ç±»å‹

---

## ğŸ”„ å¼€å‘æµç¨‹

### 1. ç¯å¢ƒå‡†å¤‡
```bash
# å…‹éš†é¡¹ç›®
git clone [repository-url]

# å®‰è£…ä¾èµ–
cd my-product-frontend/frontends/agentworks
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### 2. å¼€å‘è§„èŒƒ

#### åˆ†æ”¯ç®¡ç†
- `main` - ä¸»åˆ†æ”¯ï¼Œç”Ÿäº§ç¯å¢ƒ
- `develop` - å¼€å‘åˆ†æ”¯
- `feature/*` - åŠŸèƒ½åˆ†æ”¯
- `bugfix/*` - ä¿®å¤åˆ†æ”¯

#### æäº¤è§„èŒƒ
```bash
# åŠŸèƒ½
feat: æ·»åŠ æœç´¢ç­›é€‰åŠŸèƒ½

# ä¿®å¤
fix: ä¿®å¤è¿”ç‚¹ç‡æ˜¾ç¤ºé—®é¢˜

# æ–‡æ¡£
docs: æ›´æ–°å¼€å‘æŒ‡å—

# æ ·å¼
style: ä¼˜åŒ–æŒ‰é’®æ ·å¼

# é‡æ„
refactor: é‡æ„ä»·æ ¼ç®¡ç†æ¨¡å—

# æµ‹è¯•
test: æ·»åŠ å•å…ƒæµ‹è¯•

# æ„å»º
chore: æ›´æ–°ä¾èµ–åŒ…
```

### 3. ä»£ç å®¡æŸ¥
- æ‰€æœ‰ä»£ç éœ€ç»è¿‡ PR å®¡æŸ¥
- ç¡®ä¿é€šè¿‡ ESLint æ£€æŸ¥
- æ›´æ–°ç›¸å…³æ–‡æ¡£

---

## ğŸ“ ä»£ç è§„èŒƒ

### TypeScript è§„èŒƒ

#### ç±»å‹å®šä¹‰
```typescript
// âœ… å¥½çš„å®è·µ
interface Talent {
  oneId: string;
  name: string;
  platform: Platform;
  prices: PriceRecord[];
  currentRebate?: RebateConfig;
}

// âŒ é¿å…
interface Talent {
  oneId: any;
  name: any;
  // ...
}
```

#### ç»„ä»¶å®šä¹‰
```tsx
// âœ… å‡½æ•°ç»„ä»¶ + TypeScript
interface Props {
  talent: Talent;
  onSave: (data: TalentFormData) => Promise<void>;
}

export function TalentEdit({ talent, onSave }: Props) {
  // ...
}
```

### React è§„èŒƒ

#### Hooks ä½¿ç”¨
```tsx
// âœ… å¥½çš„å®è·µ
const [loading, setLoading] = useState(false);
const [data, setData] = useState<Talent[]>([]);

useEffect(() => {
  loadData();
}, [dependency]);

// âŒ é¿å…
useEffect(() => {
  // æ²¡æœ‰ä¾èµ–æ•°ç»„
  loadData();
});
```

#### äº‹ä»¶å¤„ç†
```tsx
// âœ… å¥½çš„å®è·µ
const handleSave = async () => {
  try {
    setLoading(true);
    await saveData();
    success('ä¿å­˜æˆåŠŸ');
  } catch (err) {
    error('ä¿å­˜å¤±è´¥');
  } finally {
    setLoading(false);
  }
};
```

### UI å¼€å‘è§„èŒƒï¼ˆv3.0ï¼‰

#### Ant Design Pro + Tailwind æ··åˆæ¨¡å¼

**æ ¸å¿ƒåŸåˆ™**ï¼šä½¿ç”¨ Ant Design Pro ç»„ä»¶æ„å»ºå¤æ‚åŠŸèƒ½ï¼ŒTailwind CSS å¤„ç†å¸ƒå±€å’Œæ ·å¼

```tsx
// âœ… è¡¨æ ¼é¡µé¢ï¼šä½¿ç”¨ ProTable
import { ProTable } from '@ant-design/pro-components';
import type { ProColumns } from '@ant-design/pro-components';

<div className="space-y-4">  {/* Tailwind å¸ƒå±€ */}
  <h1 className="text-2xl font-bold text-gray-900">æ ‡é¢˜</h1>  {/* Tailwind æ–‡å­— */}

  <ProTable  {/* Ant Design Pro è¡¨æ ¼ */}
    columns={columns}
    dataSource={data}
    cardBordered
  />
</div>

// âœ… è¡¨å•å¼¹çª—ï¼šProForm + ProCard
import { Modal, Form } from 'antd';
import { ProForm, ProCard, ProFormText } from '@ant-design/pro-components';

<Modal width={900}>  {/* Ant Design å¼¹çª— */}
  <ProForm>  {/* Ant Design Pro è¡¨å• */}
    <ProCard title="åŸºç¡€ä¿¡æ¯" headerBordered bodyStyle={{ padding: '12px 16px' }}>
      <div className="grid grid-cols-2 gap-3">  {/* Tailwind Grid */}
        <ProFormText name="name" label="åç§°" />
      </div>
    </ProCard>
  </ProForm>
</Modal>
```

#### ç»„ä»¶é€‰æ‹©æŒ‡å—
| åŠŸèƒ½ | ä½¿ç”¨ç»„ä»¶ | ç¤ºä¾‹ |
|------|---------|------|
| æ•°æ®è¡¨æ ¼ | `ProTable` | [PerformanceHome.tsx](frontends/agentworks/src/pages/Performance/PerformanceHome.tsx) |
| å¤æ‚è¡¨å• | `ProForm` + `ProCard` | [AgencyFormModal.tsx](frontends/agentworks/src/components/AgencyFormModal.tsx) |
| å¼¹çª— | `Modal` | æ‰€æœ‰ *Modal.tsx ç»„ä»¶ |
| æ ‡ç­¾é¡µ | `Tabs` | å¹³å°åˆ‡æ¢ |
| é€šçŸ¥ | `message` API | æ›¿ä»£ alert() å’Œ Toast |
| å¸ƒå±€ | Tailwind `flex`, `grid` | æ‰€æœ‰é¡µé¢ |
| é—´è· | Tailwind `space-y-*`, `gap-*` | æ‰€æœ‰é¡µé¢ |

#### ç¦æ­¢ä½¿ç”¨
- â›” æ‰‹å†™ `<table>` æ ‡ç­¾ï¼ˆä½¿ç”¨ ProTableï¼‰
- â›” `alert()`, `confirm()`, `prompt()`ï¼ˆä½¿ç”¨ message APIï¼‰
- â›” æ‰‹å†™å¼¹çª—å®¹å™¨ï¼ˆä½¿ç”¨ Modalï¼‰
- â›” å†…è”æ ·å¼ `style={{ ... }}`ï¼ˆä½¿ç”¨ Tailwindï¼‰

### CSS/Tailwind è§„èŒƒ

#### ç±»åç»„ç»‡
```tsx
// âœ… å¥½çš„å®è·µï¼šTailwind + Ant Design ç»„åˆ
<div className="flex items-center justify-between p-4 bg-white rounded-lg shadow-md">
  <Button type="primary" className="custom-tailwind-class">
    ä¿å­˜
  </Button>
</div>

// âŒ é¿å…å†…è”æ ·å¼
<div style={{ display: 'flex', padding: '16px' }}>
```

---

## ğŸ”Œ APIè§„èŒƒ

### RESTful è®¾è®¡
```typescript
// è·å–åˆ—è¡¨
GET /api/talents?platform=douyin&page=1&limit=20

// è·å–è¯¦æƒ…
GET /api/talents/:oneId/:platform

// åˆ›å»º
POST /api/talents
Body: { name, platform, prices, ... }

// æ›´æ–°
PUT /api/talents/:oneId/:platform
Body: { name, prices, ... }

// åˆ é™¤
DELETE /api/talents/:oneId/:platform
```

### å“åº”æ ¼å¼
```typescript
// æˆåŠŸå“åº”
{
  success: true,
  data: { ... },
  message?: 'æ“ä½œæˆåŠŸ'
}

// é”™è¯¯å“åº”
{
  success: false,
  error: 'ERROR_CODE',
  message: 'é”™è¯¯æè¿°'
}
```

### é”™è¯¯å¤„ç†
```typescript
try {
  const response = await getTalents({ platform });
  if (response.success) {
    setData(response.data);
  } else {
    throw new Error(response.message);
  }
} catch (err) {
  error('åŠ è½½å¤±è´¥');
}
```

---

## ğŸ§ª æµ‹è¯•è§„èŒƒ

### å•å…ƒæµ‹è¯•ï¼ˆè®¡åˆ’ä¸­ï¼‰
- ä½¿ç”¨ Vitest + React Testing Library
- è¦†ç›–ç‡ç›®æ ‡ï¼š80%
- å…³é”®åŠŸèƒ½å¿…é¡»æœ‰æµ‹è¯•

### E2Eæµ‹è¯•ï¼ˆè®¡åˆ’ä¸­ï¼‰
- ä½¿ç”¨ Playwright
- è¦†ç›–æ ¸å¿ƒç”¨æˆ·æµç¨‹

---

## ğŸš€ éƒ¨ç½²æµç¨‹

### æ„å»º
```bash
npm run build
```

### ç¯å¢ƒå˜é‡
```env
VITE_API_BASE_URL=https://api.example.com
VITE_ENV=production
```

### éƒ¨ç½²æ£€æŸ¥
- [ ] ä»£ç é€šè¿‡ lint æ£€æŸ¥
- [ ] æ„å»ºæˆåŠŸæ— é”™è¯¯
- [ ] æ›´æ–° CHANGELOG
- [ ] æ›´æ–°ç‰ˆæœ¬å·
- [ ] åˆ›å»º Git tag

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [CHANGELOG.md](./CHANGELOG.md) - é¡¹ç›®æ›´æ–°æ—¥å¿—
- [UI_UX_GUIDELINES.md](./UI_UX_GUIDELINES.md) - UI/UX å¼€å‘è§„èŒƒ
- [REBATE_DEVELOPMENT_PLAN.md](./REBATE_DEVELOPMENT_PLAN.md) - è¿”ç‚¹åŠŸèƒ½å¼€å‘è®¡åˆ’

---

**ç»´æŠ¤è€…**: Claude Code
**æœ€åæ›´æ–°**: 2025-11-18

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)