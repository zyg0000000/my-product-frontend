# UI 迁移测试清单

> 确保每个页面迁移到 Pro + Tailwind 方案后质量合格

**最后更新**：2024-11-22

---

## 📋 通用测试清单

每个页面迁移完成后，必须完成以下测试：

### ✅ 功能测试

#### 列表页
- [ ] 数据加载正常（初始加载）
- [ ] 搜索功能正常（输入关键词）
- [ ] 筛选功能正常（下拉筛选）
- [ ] 分页功能正常（上一页、下一页、跳转）
- [ ] 刷新按钮正常
- [ ] 列设置功能正常（显示/隐藏列）
- [ ] 操作按钮正常（编辑、删除）
- [ ] 删除确认弹窗正常
- [ ] 加载状态正常（loading 动画）
- [ ] 空状态正常（无数据时）
- [ ] 错误状态正常（请求失败时）

#### 表单页
- [ ] 表单初始化正常（新增/编辑）
- [ ] 字段验证正常（必填、格式）
- [ ] 错误提示正常（实时显示）
- [ ] 提交功能正常（保存）
- [ ] 取消功能正常（返回列表）
- [ ] 返回按钮正常
- [ ] 编辑模式正常（加载数据）
- [ ] 动态字段正常（添加/删除）
- [ ] Loading 状态正常
- [ ] 成功提示正常
- [ ] 失败提示正常

---

### ✅ 样式测试

#### 字体检查
- [ ] 页面主标题：`text-2xl font-bold text-gray-900`
- [ ] 页面描述：`text-sm text-gray-600`
- [ ] 卡片标题：`text-lg font-semibold`
- [ ] 表单标签：Pro 默认样式
- [ ] 按钮文字：正常大小
- [ ] 无字体大小混乱

#### 间距检查
- [ ] 页面容器：`space-y-6` 或 `p-6`
- [ ] 卡片间距：`space-y-4` 或 `mt-4`
- [ ] 字段间距：`gap-4`
- [ ] 按钮间距：`gap-2` 或 `space-x-2`
- [ ] 无异常大/小间距

#### 颜色检查
- [ ] 主色调：primary-600 (#2563eb)
- [ ] Tag 颜色符合规范
- [ ] 文字颜色：gray-900 (主), gray-600 (次), gray-500 (辅)
- [ ] 背景颜色：white (卡片), gray-50 (页面/辅助区域)
- [ ] 无自定义颜色值

#### 布局检查
- [ ] ProTable 卡片正常显示
- [ ] ProCard 边框正常
- [ ] Grid 布局正确（字段在一行）
- [ ] Flex 布局正确（按钮对齐）
- [ ] 响应式正常（窄屏不错乱）
- [ ] 滚动条正常（横向、纵向）

---

### ✅ 代码质量测试

#### TypeScript 检查
- [ ] 无 TypeScript 错误
- [ ] 类型定义完整
- [ ] 无 `any` 类型滥用
- [ ] import 路径正确

#### 代码规范检查
- [ ] 无独立 CSS 文件
- [ ] 无内联样式 `style={{}}`
- [ ] 无 console.log（除必要日志）
- [ ] 注释完整（函数、复杂逻辑）
- [ ] 变量命名规范
- [ ] 无重复代码

#### 性能检查
- [ ] 代码行数减少 > 50%
- [ ] 无不必要的 re-render
- [ ] 请求去重（同一数据不重复请求）
- [ ] 图片懒加载（如果有）

---

## 🎯 具体页面测试清单

### Performance 模块

**PerformanceHome.tsx** 测试：

#### 功能
- [ ] 平台 Tab 切换正常
- [ ] 切换平台数据刷新
- [ ] Tab 上的数量显示正确
- [ ] ProTable 搜索/筛选正常
- [ ] CPM 筛选器正常
- [ ] 性别比例筛选器正常
- [ ] 分页正常

#### 样式
- [ ] Tab 样式与其他页面一致
- [ ] 表格阴影正常
- [ ] 筛选器布局紧凑

---

### BasicInfo 模块

**BasicInfo.tsx** 测试：

#### 功能
- [ ] 平台切换正常
- [ ] 搜索功能（名称、OneID）
- [ ] 高级筛选（层级、标签、返点、价格）
- [ ] 分页功能
- [ ] 编辑达人（ModalForm）
- [ ] 删除达人（确认弹窗）
- [ ] 价格编辑（DrawerForm）
- [ ] 返点管理（ModalForm）
- [ ] 批量操作（可选）

#### 数据
- [ ] 价格数据显示正确
- [ ] 返点率显示正确
- [ ] 合作状态显示正确
- [ ] 机构信息显示正确

---

### AgenciesList 模块

**AgenciesList.tsx** 测试：

#### 功能
- [ ] 机构列表加载
- [ ] 新增机构（ModalForm）
- [ ] 编辑机构（ModalForm）
- [ ] 删除机构（确认）
- [ ] 返点配置（DrawerForm）
- [ ] 达人数量统计正确

#### 表单验证
- [ ] 机构名称必填
- [ ] 联系方式格式验证
- [ ] 返点率范围验证（0-100）

---

## 🔧 调试工具

### Chrome DevTools 检查

```javascript
// 1. 检查是否有内联样式
document.querySelectorAll('[style]').length  // 应该为 0

// 2. 检查 CSS 文件加载
performance.getEntriesByType('resource')
  .filter(r => r.name.includes('.css'))

// 3. 检查包体积
// Network tab → JS tab → 查看 vendor.js 大小
```

### React DevTools 检查

```
1. 打开 React DevTools
2. 查看组件树
3. 确认没有不必要的重渲染
4. 检查 Props 是否正确传递
```

---

## 📊 测试报告模板

### 页面测试报告

```markdown
## [页面名称] 迁移测试报告

**测试日期**: 2024-11-XX
**测试人**: XXX
**迁移前代码**: XXX 行
**迁移后代码**: XXX 行
**代码减少**: XX%

### 功能测试
- ✅ 所有功能正常
- ⚠️ 发现问题：XXX（已修复/待修复）

### 样式测试
- ✅ 字体统一
- ✅ 间距统一
- ✅ 颜色统一

### 性能测试
- 初始加载: XX ms
- 交互响应: XX ms
- 包体积: XX KB

### 新增功能
- ✅ 列设置
- ✅ 导出功能
- ✅ 高级筛选

### 问题记录
1. [已修复] XXX
2. [待修复] XXX

### 结论
✅ 通过 / ❌ 不通过
```

---

## 📅 测试计划

| 页面 | 计划测试日期 | 实际测试日期 | 状态 | 问题数 |
|------|------------|------------|------|--------|
| Customers/List | 2024-11-22 | 2024-11-22 | ✅ | 0 |
| Customers/Form | 2024-11-22 | 2024-11-22 | ✅ | 0 |
| Performance | Day 2 | - | ⏳ | - |
| BasicInfo | Day 4 | - | ⏳ | - |
| AgenciesList | Day 5 | - | ⏳ | - |
| TalentDetail | Day 6 | - | ⏳ | - |
| CreateTalent | Day 7 | - | ⏳ | - |
| 其他页面 | Day 8 | - | ⏳ | - |

---

**文档状态**: ✅ 完成
**下一步**: 开始迁移和测试
