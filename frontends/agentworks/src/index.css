/**
 * AgentWorks - 全局样式入口
 *
 * 样式分层策略：
 * 1. 设计令牌层 (CSS Variables) → 单一真相来源
 * 2. Tailwind 工具类层 → 引用 CSS Variables
 * 3. 组件样式层 (CSS Modules / BEM) → 复杂组件专属样式
 *
 * @see docs/DESIGN_SYSTEM.md
 */

/* ========================================
   1. 设计系统令牌
   ======================================== */
@import './design-system/tokens/index.css';

/* ========================================
   2. Tailwind CSS
   ======================================== */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   3. 基础重置与全局样式
   ======================================== */

@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-variant-numeric: tabular-nums;
  }

  body {
    font-family: var(--aw-font-body);
    background-color: var(--aw-gray-50);
    color: var(--aw-gray-800);
    line-height: var(--aw-leading-normal);
    font-size: var(--aw-text-base);
  }

  /* 输入框默认样式 - 防止黑色背景 bug */
  input,
  textarea,
  select {
    background-color: transparent;
    color: inherit;
  }

  input::placeholder,
  textarea::placeholder {
    color: var(--aw-gray-400);
  }

  /* 链接 */
  a {
    color: var(--aw-primary-600);
    text-decoration: none;
    transition: color var(--aw-duration-fast) var(--aw-ease-default);
  }

  a:hover {
    color: var(--aw-primary-700);
  }

  /* 选中状态 */
  ::selection {
    background-color: var(--aw-primary-100);
    color: var(--aw-primary-900);
  }

  /* 焦点样式 */
  :focus-visible {
    outline: 2px solid var(--aw-primary-500);
    outline-offset: 2px;
  }

  /* 滚动条样式 - Webkit */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--aw-gray-300);
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--aw-gray-400);
  }

  /* 滚动条样式 - Firefox */
  * {
    scrollbar-width: thin;
    scrollbar-color: var(--aw-gray-300) transparent;
  }
}

/* ========================================
   4. 组件基础样式
   ======================================== */

@layer components {
  /* 按钮基础 */
  .btn {
    @apply px-4 py-2 rounded-lg font-medium transition-all
           focus:outline-none focus:ring-2 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
    font-family: var(--aw-font-body);
  }

  .btn-primary {
    @apply btn bg-primary-600 text-white
           hover:bg-primary-700 active:bg-primary-800
           focus:ring-primary-500;
    box-shadow: var(--aw-shadow-primary);
  }

  .btn-secondary {
    @apply btn text-content-secondary border
           hover:border-gray-300 active:bg-gray-100 focus:ring-gray-300;
    background-color: var(--color-bg-elevated);
    border-color: var(--color-border);
  }

  .btn-secondary:hover {
    background-color: var(--color-fill);
  }

  .btn-ghost {
    @apply btn bg-transparent text-gray-600
           hover:bg-gray-100 hover:text-gray-900
           active:bg-gray-200;
  }

  .btn-danger {
    @apply btn bg-danger-600 text-white
           hover:bg-danger-700 active:bg-danger-800
           focus:ring-danger-500;
    box-shadow: var(--aw-shadow-danger);
  }

  /* 卡片 - 使用语义化 CSS Variable 实现自动深色模式 */
  .card {
    @apply rounded-xl p-6;
    background-color: var(--color-bg-elevated);
    border: 1px solid var(--color-border);
    box-shadow: var(--aw-shadow-card);
  }

  .card-hover {
    @apply card cursor-pointer;
    transition: all var(--aw-duration-normal) var(--aw-ease-default);
  }

  .card-hover:hover {
    border-color: var(--color-border-hover);
    box-shadow: var(--aw-shadow-card-hover);
    transform: translateY(-1px);
  }

  /* 输入框 - 使用语义化变量 */
  .input {
    @apply w-full rounded-lg px-3 py-2
           focus:outline-none focus:border-transparent;
    background-color: var(--color-bg-elevated);
    border: 1px solid var(--color-border);
    color: var(--color-text-primary);
    transition: all var(--aw-duration-fast) var(--aw-ease-default);
    box-shadow: var(--aw-shadow-inset);
  }

  .input::placeholder {
    color: var(--color-text-muted);
  }

  .input:focus {
    box-shadow: var(--aw-shadow-focus);
    border-color: var(--aw-primary-500);
  }

  /* 标签 */
  .tag {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full
           text-xs font-medium;
  }

  .tag-primary {
    @apply tag;
    background-color: var(--aw-primary-50);
    color: var(--aw-primary-700);
  }

  .tag-success {
    @apply tag;
    background-color: var(--aw-success-50);
    color: var(--aw-success-700);
  }

  .tag-warning {
    @apply tag;
    background-color: var(--aw-warning-50);
    color: var(--aw-warning-700);
  }

  .tag-danger {
    @apply tag;
    background-color: var(--aw-danger-50);
    color: var(--aw-danger-700);
  }

  .tag-info {
    @apply tag;
    background-color: var(--aw-info-50);
    color: var(--aw-info-700);
  }

  /* 页面容器 */
  .page-container {
    @apply mx-auto px-4 sm:px-6 lg:px-8 py-6;
    max-width: var(--aw-max-width-7xl);
  }

  /* 页面标题 */
  .page-title {
    font-family: var(--aw-font-display);
    font-size: var(--aw-text-2xl);
    font-weight: 600;
    color: var(--aw-gray-900);
    line-height: var(--aw-leading-tight);
  }

  .page-subtitle {
    font-size: var(--aw-text-sm);
    color: var(--aw-gray-500);
    margin-top: var(--aw-space-1);
  }

  /* 数据展示 */
  .data-value {
    font-family: var(--aw-font-mono);
    font-variant-numeric: tabular-nums;
  }

  .data-value-lg {
    @apply data-value;
    font-size: var(--aw-text-2xl);
    font-weight: 600;
  }

  /* 骨架屏 */
  .skeleton {
    @apply rounded;
    background: linear-gradient(
      90deg,
      var(--aw-gray-100) 25%,
      var(--aw-gray-200) 50%,
      var(--aw-gray-100) 75%
    );
    background-size: 200% 100%;
    animation: aw-shimmer 1.5s infinite;
  }

  /* 分割线 */
  .divider {
    @apply border-t border-gray-200 my-4;
  }

  .divider-vertical {
    @apply border-l border-gray-200 mx-4 h-full;
  }
}

/* ========================================
   5. 工具类
   ======================================== */

@layer utilities {
  /* 文字截断 */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* 隐藏滚动条但保持可滚动 */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* 玻璃拟态效果 */
  .glass {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  /* 渐变文字 */
  .text-gradient {
    background: linear-gradient(135deg, var(--aw-primary-600), var(--aw-primary-400));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
}

/* ========================================
   6. Ant Design 样式覆盖
   ======================================== */

/* 统一圆角 */
.ant-btn {
  border-radius: var(--aw-radius-md) !important;
}

.ant-input,
.ant-input-affix-wrapper,
.ant-select-selector,
.ant-picker,
.ant-input-number {
  border-radius: var(--aw-radius-md) !important;
}

.ant-card {
  border-radius: var(--aw-radius-lg) !important;
}

.ant-modal-content {
  border-radius: var(--aw-radius-xl) !important;
}

.ant-table {
  border-radius: var(--aw-radius-lg) !important;
  overflow: hidden;
}

.ant-dropdown-menu {
  border-radius: var(--aw-radius-lg) !important;
  box-shadow: var(--aw-shadow-dropdown) !important;
}

.ant-popover-inner {
  border-radius: var(--aw-radius-lg) !important;
}

.ant-tooltip-inner {
  border-radius: var(--aw-radius-sm) !important;
}

.ant-tag {
  border-radius: var(--aw-radius-sm) !important;
}

/* 主按钮样式增强 */
.ant-btn-primary {
  background-color: var(--aw-primary-600) !important;
  border-color: var(--aw-primary-600) !important;
  box-shadow: var(--aw-shadow-primary) !important;
}

.ant-btn-primary:hover,
.ant-btn-primary:focus {
  background-color: var(--aw-primary-700) !important;
  border-color: var(--aw-primary-700) !important;
}

.ant-btn-primary:active {
  background-color: var(--aw-primary-800) !important;
  border-color: var(--aw-primary-800) !important;
}

/* 默认按钮悬停效果 */
.ant-btn-default:hover {
  color: var(--aw-primary-600) !important;
  border-color: var(--aw-primary-300) !important;
}

/* 输入框焦点效果 */
.ant-input:focus,
.ant-input-focused,
.ant-input-affix-wrapper:focus,
.ant-input-affix-wrapper-focused,
.ant-select-focused .ant-select-selector,
.ant-picker-focused {
  border-color: var(--aw-primary-500) !important;
  box-shadow: var(--aw-shadow-focus) !important;
}

/* 表格样式 */
.ant-table-thead > tr > th {
  background-color: var(--aw-gray-50) !important;
  color: var(--aw-gray-700) !important;
  font-weight: 600 !important;
  border-bottom: 1px solid var(--aw-gray-200) !important;
}

.ant-table-tbody > tr:hover > td {
  background-color: var(--aw-gray-50) !important;
}

.ant-table-tbody > tr > td {
  border-bottom: 1px solid var(--aw-gray-100) !important;
}

/* 分页器 */
.ant-pagination-item-active {
  background-color: var(--aw-primary-600) !important;
  border-color: var(--aw-primary-600) !important;
}

.ant-pagination-item-active a {
  color: white !important;
}

/* 标签页 */
.ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn {
  color: var(--aw-primary-600) !important;
}

.ant-tabs-ink-bar {
  background-color: var(--aw-primary-600) !important;
}

/* 开关 */
.ant-switch-checked {
  background-color: var(--aw-primary-600) !important;
}

/* 复选框 */
.ant-checkbox-checked .ant-checkbox-inner {
  background-color: var(--aw-primary-600) !important;
  border-color: var(--aw-primary-600) !important;
}

/* 单选框 */
.ant-radio-checked .ant-radio-inner {
  border-color: var(--aw-primary-600) !important;
}

.ant-radio-checked .ant-radio-inner::after {
  background-color: var(--aw-primary-600) !important;
}

/* 进度条 */
.ant-progress-bg {
  background-color: var(--aw-primary-600) !important;
}

/* 消息提示 */
.ant-message-notice-content {
  border-radius: var(--aw-radius-lg) !important;
  box-shadow: var(--aw-shadow-lg) !important;
}

/* 通知 */
.ant-notification-notice {
  border-radius: var(--aw-radius-lg) !important;
  box-shadow: var(--aw-shadow-lg) !important;
}

/* 抽屉 */
.ant-drawer-content {
  border-radius: var(--aw-radius-xl) 0 0 var(--aw-radius-xl) !important;
}

.ant-drawer-left .ant-drawer-content {
  border-radius: 0 var(--aw-radius-xl) var(--aw-radius-xl) 0 !important;
}

/* 空状态 */
.ant-empty-description {
  color: var(--aw-gray-400) !important;
}

/* ========================================
   7. Pro Components 样式覆盖
   ======================================== */

/* ProTable */
.ant-pro-table-search {
  background-color: var(--aw-gray-50) !important;
  border-radius: var(--aw-radius-lg) !important;
  margin-bottom: var(--aw-space-4) !important;
}

.ant-pro-table .ant-table {
  border-radius: var(--aw-radius-lg) !important;
}

/* ProCard */
.ant-pro-card {
  border-radius: var(--aw-radius-lg) !important;
}

/* ========================================
   8. 深色模式样式覆盖
   ======================================== */

/* 深色模式 - 全局 */
[data-theme="dark"],
.dark {
  color-scheme: dark;
}

/* 深色模式 - 全局字体颜色
   强制覆盖所有 Ant Design 组件的默认字体颜色 */
[data-theme="dark"],
.dark {
  /* 全局默认文字颜色 - 使用最亮的灰度 #f8fafc */
  color: var(--aw-gray-900) !important;
}

/* Ant Design 全局文字颜色覆盖 */
.dark,
[data-theme="dark"] {
  /* 基础文字 - 最高优先级 */
  .ant-typography,
  .ant-typography p,
  .ant-typography span,
  .ant-table-column-title,
  .ant-pro-table-column-setting-title,
  .ant-form-item-required,
  .ant-checkbox-wrapper,
  .ant-radio-wrapper,
  .ant-switch-inner,
  .ant-rate-text,
  .ant-select-selection-item,
  .ant-input,
  .ant-input-number-input,
  .ant-picker-input input,
  .ant-menu-title-content,
  .ant-dropdown-menu-title-content,
  .ant-table-cell,
  .ant-descriptions-item-label,
  .ant-descriptions-item-content,
  .ant-list-item,
  .ant-list-item-meta-title,
  .ant-card-head-title,
  .ant-modal-confirm-title,
  .ant-modal-confirm-content,
  .ant-popconfirm-message-title,
  .ant-popconfirm-description,
  .ant-statistic-content-value {
    color: var(--aw-gray-900) !important;
  }

  /* 次要文字 - 稍暗但仍清晰可见 */
  .ant-form-item-extra,
  .ant-form-item-explain,
  .ant-table-column-sorter,
  .ant-table-filter-trigger,
  .ant-pagination-total-text,
  .ant-select-selection-placeholder,
  .ant-picker-suffix,
  .ant-input-suffix,
  .ant-input-prefix,
  .ant-list-item-meta-description,
  .ant-card-meta-description,
  .ant-statistic-title,
  .ant-descriptions-title,
  .ant-table-thead .ant-table-column-has-sorters:hover {
    color: var(--aw-gray-600) !important;
  }

  /* 占位符文字 */
  .ant-input::placeholder,
  .ant-input-number::placeholder,
  .ant-picker-input input::placeholder {
    color: var(--aw-gray-500) !important;
  }

  /* 禁用状态文字 */
  .ant-input-disabled,
  .ant-select-disabled .ant-select-selection-item,
  .ant-checkbox-disabled + span,
  .ant-radio-disabled + span,
  .ant-btn-disabled,
  .ant-btn[disabled] {
    color: var(--aw-gray-400) !important;
  }

  /* 图标颜色 */
  .ant-table-column-sorter-inner,
  .ant-select-arrow,
  .ant-picker-separator,
  .ant-picker-clear,
  .ant-input-clear-icon,
  .anticon {
    color: var(--aw-gray-500) !important;
  }

  /* 链接颜色 */
  a,
  .ant-typography a,
  .ant-btn-link {
    color: var(--aw-primary-400) !important;
  }

  a:hover,
  .ant-typography a:hover,
  .ant-btn-link:hover {
    color: var(--aw-primary-300) !important;
  }
}

/* 深色模式 - 组件类补充
   注意：大部分组件已使用 CSS Variables 自动适配深色模式
   以下仅为 Tailwind 工具类的补充覆盖 */

.dark .btn-secondary,
[data-theme="dark"] .btn-secondary {
  background-color: var(--color-bg-sunken);
  color: var(--color-text-primary);
  border-color: var(--color-border);
}

.dark .btn-secondary:hover,
[data-theme="dark"] .btn-secondary:hover {
  background-color: var(--color-fill);
  border-color: var(--color-border-hover);
}

.dark .btn-ghost,
[data-theme="dark"] .btn-ghost {
  color: var(--color-text-secondary);
}

.dark .btn-ghost:hover,
[data-theme="dark"] .btn-ghost:hover {
  background-color: var(--color-bg-sunken);
  color: var(--color-text-primary);
}

.dark .divider,
[data-theme="dark"] .divider {
  border-color: var(--color-border);
}

/* 深色模式 - 玻璃效果 */
.dark .glass,
[data-theme="dark"] .glass {
  background: rgba(30, 41, 59, 0.8);
}

/* 深色模式 - 滚动条 */
.dark::-webkit-scrollbar-thumb,
[data-theme="dark"]::-webkit-scrollbar-thumb {
  background: var(--aw-gray-400);
}

.dark::-webkit-scrollbar-thumb:hover,
[data-theme="dark"]::-webkit-scrollbar-thumb:hover {
  background: var(--aw-gray-500);
}

/* ========================================
   8.1 深色模式 - Ant Design 组件覆盖
   注意：Ant Design ConfigProvider 不支持 CSS Variables
   需要通过 CSS 覆盖实现深色模式
   ======================================== */

/* 表格组件 */
.dark .ant-table,
.dark .ant-table-container,
.dark .ant-table-content,
[data-theme="dark"] .ant-table,
[data-theme="dark"] .ant-table-container,
[data-theme="dark"] .ant-table-content {
  background-color: var(--aw-gray-100) !important;
}

.dark .ant-table-thead > tr > th,
.dark .ant-table-thead > tr > td,
[data-theme="dark"] .ant-table-thead > tr > th,
[data-theme="dark"] .ant-table-thead > tr > td {
  background-color: var(--aw-gray-200) !important;
  color: var(--aw-gray-900) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-table-tbody > tr > td,
[data-theme="dark"] .ant-table-tbody > tr > td {
  background-color: var(--aw-gray-100) !important;
  color: var(--aw-gray-900) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-table-tbody > tr:hover > td,
.dark .ant-table-tbody > tr.ant-table-row:hover > td,
[data-theme="dark"] .ant-table-tbody > tr:hover > td,
[data-theme="dark"] .ant-table-tbody > tr.ant-table-row:hover > td {
  background-color: var(--aw-gray-200) !important;
}

.dark .ant-table-cell-fix-left,
.dark .ant-table-cell-fix-right,
[data-theme="dark"] .ant-table-cell-fix-left,
[data-theme="dark"] .ant-table-cell-fix-right {
  background-color: var(--aw-gray-100) !important;
}

/* ProTable 组件 */
.dark .ant-pro-table,
.dark .ant-pro-table-search,
.dark .ant-pro-table-list-toolbar,
[data-theme="dark"] .ant-pro-table,
[data-theme="dark"] .ant-pro-table-search,
[data-theme="dark"] .ant-pro-table-list-toolbar {
  background-color: var(--aw-gray-100) !important;
}

.dark .ant-pro-table .ant-table-wrapper,
[data-theme="dark"] .ant-pro-table .ant-table-wrapper {
  background-color: var(--aw-gray-100) !important;
}

/* ProTable 工具栏按钮（全屏、密度、设置等） */
.dark .ant-pro-table-list-toolbar-setting-item,
.dark .ant-pro-table-list-toolbar-setting-item .anticon,
[data-theme="dark"] .ant-pro-table-list-toolbar-setting-item,
[data-theme="dark"] .ant-pro-table-list-toolbar-setting-item .anticon {
  color: var(--aw-gray-700) !important;
}

.dark .ant-pro-table-list-toolbar-setting-item:hover,
.dark .ant-pro-table-list-toolbar-setting-item:hover .anticon,
[data-theme="dark"] .ant-pro-table-list-toolbar-setting-item:hover,
[data-theme="dark"] .ant-pro-table-list-toolbar-setting-item:hover .anticon {
  color: var(--aw-primary-500) !important;
}

/* ProTable 列设置弹窗 */
.dark .ant-pro-table-column-setting,
.dark .ant-pro-table-column-setting-overlay,
[data-theme="dark"] .ant-pro-table-column-setting,
[data-theme="dark"] .ant-pro-table-column-setting-overlay {
  background-color: var(--aw-gray-100) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-pro-table-column-setting-list-item,
[data-theme="dark"] .ant-pro-table-column-setting-list-item {
  color: var(--aw-gray-900) !important;
}

.dark .ant-pro-table-column-setting-title,
[data-theme="dark"] .ant-pro-table-column-setting-title {
  color: var(--aw-gray-900) !important;
}

/* 卡片组件 */
.dark .ant-card,
[data-theme="dark"] .ant-card {
  background-color: var(--aw-gray-100) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-card-head,
[data-theme="dark"] .ant-card-head {
  border-color: var(--aw-gray-300) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-card-body,
[data-theme="dark"] .ant-card-body {
  color: var(--aw-gray-900) !important;
}

/* 输入框组件 */
.dark .ant-input,
.dark .ant-input-affix-wrapper,
.dark .ant-input-number,
.dark .ant-input-number-input,
[data-theme="dark"] .ant-input,
[data-theme="dark"] .ant-input-affix-wrapper,
[data-theme="dark"] .ant-input-number,
[data-theme="dark"] .ant-input-number-input {
  background-color: var(--aw-gray-200) !important;
  border-color: var(--aw-gray-300) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-input::placeholder,
[data-theme="dark"] .ant-input::placeholder {
  color: var(--aw-gray-500) !important;
}

/* 选择器组件 */
.dark .ant-select-selector,
[data-theme="dark"] .ant-select-selector {
  background-color: var(--aw-gray-200) !important;
  border-color: var(--aw-gray-300) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-select-dropdown,
[data-theme="dark"] .ant-select-dropdown {
  background-color: var(--aw-gray-100) !important;
}

.dark .ant-select-item,
[data-theme="dark"] .ant-select-item {
  color: var(--aw-gray-900) !important;
}

.dark .ant-select-item-option-active,
.dark .ant-select-item-option-selected,
[data-theme="dark"] .ant-select-item-option-active,
[data-theme="dark"] .ant-select-item-option-selected {
  background-color: var(--aw-gray-200) !important;
}

/* 模态框组件 */
.dark .ant-modal-content,
[data-theme="dark"] .ant-modal-content {
  background-color: var(--aw-gray-100) !important;
}

.dark .ant-modal-header,
[data-theme="dark"] .ant-modal-header {
  background-color: var(--aw-gray-100) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-modal-title,
[data-theme="dark"] .ant-modal-title {
  color: var(--aw-gray-900) !important;
}

.dark .ant-modal-close,
[data-theme="dark"] .ant-modal-close {
  color: var(--aw-gray-500) !important;
}

.dark .ant-modal-footer,
[data-theme="dark"] .ant-modal-footer {
  border-color: var(--aw-gray-300) !important;
}

/* 抽屉组件 */
.dark .ant-drawer-content,
[data-theme="dark"] .ant-drawer-content {
  background-color: var(--aw-gray-100) !important;
}

.dark .ant-drawer-header,
[data-theme="dark"] .ant-drawer-header {
  background-color: var(--aw-gray-100) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-drawer-title,
[data-theme="dark"] .ant-drawer-title {
  color: var(--aw-gray-900) !important;
}

/* 标签页组件 */
.dark .ant-tabs-tab,
[data-theme="dark"] .ant-tabs-tab {
  color: var(--aw-gray-500) !important;
}

.dark .ant-tabs-tab-active .ant-tabs-tab-btn,
.dark .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn,
[data-theme="dark"] .ant-tabs-tab-active .ant-tabs-tab-btn,
[data-theme="dark"] .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn {
  color: var(--aw-primary-400) !important;
}

.dark .ant-tabs-nav::before,
[data-theme="dark"] .ant-tabs-nav::before {
  border-color: var(--aw-gray-300) !important;
}

/* 表单组件 */
.dark .ant-form-item-label > label,
[data-theme="dark"] .ant-form-item-label > label {
  color: var(--aw-gray-900) !important;
}

/* 按钮组件 - 默认按钮 */
.dark .ant-btn-default,
[data-theme="dark"] .ant-btn-default {
  background-color: var(--aw-gray-200) !important;
  border-color: var(--aw-gray-300) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-btn-default:hover,
[data-theme="dark"] .ant-btn-default:hover {
  background-color: var(--aw-gray-300) !important;
  border-color: var(--aw-gray-400) !important;
}

/* 分页组件 */
.dark .ant-pagination-item,
[data-theme="dark"] .ant-pagination-item {
  background-color: var(--aw-gray-200) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-pagination-item a,
[data-theme="dark"] .ant-pagination-item a {
  color: var(--aw-gray-900) !important;
}

.dark .ant-pagination-item-active,
[data-theme="dark"] .ant-pagination-item-active {
  background-color: var(--aw-primary-600) !important;
  border-color: var(--aw-primary-600) !important;
}

.dark .ant-pagination-item-active a,
[data-theme="dark"] .ant-pagination-item-active a {
  color: white !important;
}

/* 下拉菜单 */
.dark .ant-dropdown-menu,
[data-theme="dark"] .ant-dropdown-menu {
  background-color: var(--aw-gray-100) !important;
}

.dark .ant-dropdown-menu-item,
[data-theme="dark"] .ant-dropdown-menu-item {
  color: var(--aw-gray-900) !important;
}

.dark .ant-dropdown-menu-item:hover,
[data-theme="dark"] .ant-dropdown-menu-item:hover {
  background-color: var(--aw-gray-200) !important;
}

/* 气泡卡片 Popover */
.dark .ant-popover,
[data-theme="dark"] .ant-popover {
  --antd-arrow-background-color: var(--aw-gray-200) !important;
}

.dark .ant-popover-content,
[data-theme="dark"] .ant-popover-content {
  background-color: transparent !important;
}

.dark .ant-popover-inner,
[data-theme="dark"] .ant-popover-inner {
  background-color: var(--aw-gray-200) !important;
  box-shadow: 0 6px 16px 0 rgba(0, 0, 0, 0.4) !important;
}

.dark .ant-popover-arrow::before,
.dark .ant-popover-arrow::after,
[data-theme="dark"] .ant-popover-arrow::before,
[data-theme="dark"] .ant-popover-arrow::after {
  background-color: var(--aw-gray-200) !important;
}

.dark .ant-popover-title,
[data-theme="dark"] .ant-popover-title {
  color: var(--aw-gray-900) !important;
  border-color: var(--aw-gray-400) !important;
}

.dark .ant-popover-inner-content,
[data-theme="dark"] .ant-popover-inner-content {
  color: var(--aw-gray-900) !important;
}

/* 标签组件 */
.dark .ant-tag,
[data-theme="dark"] .ant-tag {
  background-color: var(--aw-gray-200) !important;
  border-color: var(--aw-gray-300) !important;
  color: var(--aw-gray-700) !important;
}

/* 空状态 */
.dark .ant-empty-description,
[data-theme="dark"] .ant-empty-description {
  color: var(--aw-gray-500) !important;
}

/* 日期选择器 */
.dark .ant-picker,
[data-theme="dark"] .ant-picker {
  background-color: var(--aw-gray-200) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-picker-input > input,
[data-theme="dark"] .ant-picker-input > input {
  color: var(--aw-gray-900) !important;
}

.dark .ant-picker-dropdown,
[data-theme="dark"] .ant-picker-dropdown {
  background-color: var(--aw-gray-100) !important;
}

.dark .ant-picker-panel-container,
[data-theme="dark"] .ant-picker-panel-container {
  background-color: var(--aw-gray-100) !important;
}

.dark .ant-picker-header,
.dark .ant-picker-content th,
[data-theme="dark"] .ant-picker-header,
[data-theme="dark"] .ant-picker-content th {
  color: var(--aw-gray-900) !important;
}

.dark .ant-picker-cell,
[data-theme="dark"] .ant-picker-cell {
  color: var(--aw-gray-600) !important;
}

.dark .ant-picker-cell-in-view,
[data-theme="dark"] .ant-picker-cell-in-view {
  color: var(--aw-gray-900) !important;
}

/* 统计数值 */
.dark .ant-statistic-title,
[data-theme="dark"] .ant-statistic-title {
  color: var(--aw-gray-500) !important;
}

/* ProCard 组件 */
.dark .ant-pro-card,
[data-theme="dark"] .ant-pro-card {
  background-color: var(--aw-gray-100) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-pro-card-body,
[data-theme="dark"] .ant-pro-card-body {
  background-color: var(--aw-gray-100) !important;
}

.dark .ant-pro-card-header,
[data-theme="dark"] .ant-pro-card-header {
  border-color: var(--aw-gray-300) !important;
  color: var(--aw-gray-900) !important;
}

/* Descriptions 描述列表 */
.dark .ant-descriptions,
[data-theme="dark"] .ant-descriptions {
  background-color: var(--aw-gray-100) !important;
}

.dark .ant-descriptions-header,
[data-theme="dark"] .ant-descriptions-header {
  background-color: var(--aw-gray-100) !important;
}

.dark .ant-descriptions-title,
[data-theme="dark"] .ant-descriptions-title {
  color: var(--aw-gray-900) !important;
}

.dark .ant-descriptions-view,
[data-theme="dark"] .ant-descriptions-view {
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-descriptions-row,
[data-theme="dark"] .ant-descriptions-row {
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-descriptions-item-label,
[data-theme="dark"] .ant-descriptions-item-label {
  color: var(--aw-gray-600) !important;
  background-color: var(--aw-gray-200) !important;
}

.dark .ant-descriptions-item-content,
[data-theme="dark"] .ant-descriptions-item-content {
  color: var(--aw-gray-900) !important;
  background-color: var(--aw-gray-100) !important;
}

/* List 列表 */
.dark .ant-list,
[data-theme="dark"] .ant-list {
  background-color: var(--aw-gray-100) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-list-header,
[data-theme="dark"] .ant-list-header {
  background-color: var(--aw-gray-100) !important;
  border-color: var(--aw-gray-300) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-list-footer,
[data-theme="dark"] .ant-list-footer {
  background-color: var(--aw-gray-100) !important;
  border-color: var(--aw-gray-300) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-list-item,
[data-theme="dark"] .ant-list-item {
  border-color: var(--aw-gray-300) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-list-item-meta-title,
[data-theme="dark"] .ant-list-item-meta-title {
  color: var(--aw-gray-900) !important;
}

.dark .ant-list-item-meta-description,
[data-theme="dark"] .ant-list-item-meta-description {
  color: var(--aw-gray-600) !important;
}

/* Alert 警告提示 */
.dark .ant-alert,
[data-theme="dark"] .ant-alert {
  background-color: var(--aw-gray-200) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-alert-message,
[data-theme="dark"] .ant-alert-message {
  color: var(--aw-gray-900) !important;
}

.dark .ant-alert-description,
[data-theme="dark"] .ant-alert-description {
  color: var(--aw-gray-600) !important;
}

.dark .ant-alert-success,
[data-theme="dark"] .ant-alert-success {
  background-color: rgba(16, 185, 129, 0.15) !important;
  border-color: var(--aw-success-500) !important;
}

.dark .ant-alert-info,
[data-theme="dark"] .ant-alert-info {
  background-color: rgba(14, 165, 233, 0.15) !important;
  border-color: var(--aw-info-500) !important;
}

.dark .ant-alert-warning,
[data-theme="dark"] .ant-alert-warning {
  background-color: rgba(245, 158, 11, 0.15) !important;
  border-color: var(--aw-warning-500) !important;
}

.dark .ant-alert-error,
[data-theme="dark"] .ant-alert-error {
  background-color: rgba(239, 68, 68, 0.15) !important;
  border-color: var(--aw-danger-500) !important;
}

/* Upload 上传 */
.dark .ant-upload,
[data-theme="dark"] .ant-upload {
  background-color: var(--aw-gray-200) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-upload-drag,
[data-theme="dark"] .ant-upload-drag {
  background-color: var(--aw-gray-200) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-upload-drag:hover,
[data-theme="dark"] .ant-upload-drag:hover {
  border-color: var(--aw-primary-500) !important;
}

.dark .ant-upload-drag-hover,
[data-theme="dark"] .ant-upload-drag-hover {
  border-color: var(--aw-primary-500) !important;
  background-color: rgba(99, 102, 241, 0.1) !important;
}

.dark .ant-upload-list,
[data-theme="dark"] .ant-upload-list {
  color: var(--aw-gray-900) !important;
}

.dark .ant-upload-list-item,
[data-theme="dark"] .ant-upload-list-item {
  background-color: var(--aw-gray-200) !important;
  border-color: var(--aw-gray-300) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-upload-list-item:hover,
[data-theme="dark"] .ant-upload-list-item:hover {
  background-color: var(--aw-gray-300) !important;
}

.dark .ant-upload-list-item-name,
[data-theme="dark"] .ant-upload-list-item-name {
  color: var(--aw-gray-900) !important;
}

.dark .ant-upload-text,
[data-theme="dark"] .ant-upload-text {
  color: var(--aw-gray-900) !important;
}

.dark .ant-upload-hint,
[data-theme="dark"] .ant-upload-hint {
  color: var(--aw-gray-600) !important;
}

/* Tooltip 提示框 */
.dark .ant-tooltip-inner,
[data-theme="dark"] .ant-tooltip-inner {
  background-color: var(--aw-gray-200) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-tooltip-arrow::before,
[data-theme="dark"] .ant-tooltip-arrow::before {
  background-color: var(--aw-gray-200) !important;
}

/* Segmented 分段控制器 */
.dark .ant-segmented,
[data-theme="dark"] .ant-segmented {
  background-color: var(--aw-gray-200) !important;
}

.dark .ant-segmented-item,
[data-theme="dark"] .ant-segmented-item {
  color: var(--aw-gray-600) !important;
}

.dark .ant-segmented-item-selected,
[data-theme="dark"] .ant-segmented-item-selected {
  background-color: var(--aw-gray-100) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-segmented-item:hover,
[data-theme="dark"] .ant-segmented-item:hover {
  color: var(--aw-gray-900) !important;
}

/* Breadcrumb 面包屑 */
.dark .ant-breadcrumb,
[data-theme="dark"] .ant-breadcrumb {
  color: var(--aw-gray-600) !important;
}

.dark .ant-breadcrumb-link,
[data-theme="dark"] .ant-breadcrumb-link {
  color: var(--aw-gray-600) !important;
}

.dark .ant-breadcrumb-link:hover,
[data-theme="dark"] .ant-breadcrumb-link:hover {
  color: var(--aw-gray-900) !important;
}

.dark .ant-breadcrumb-separator,
[data-theme="dark"] .ant-breadcrumb-separator {
  color: var(--aw-gray-500) !important;
}

/* Menu 菜单 */
.dark .ant-menu,
[data-theme="dark"] .ant-menu {
  background-color: var(--aw-gray-100) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-menu-item,
[data-theme="dark"] .ant-menu-item {
  color: var(--aw-gray-700) !important;
}

.dark .ant-menu-item:hover,
.dark .ant-menu-item-active,
[data-theme="dark"] .ant-menu-item:hover,
[data-theme="dark"] .ant-menu-item-active {
  background-color: var(--aw-gray-200) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-menu-item-selected,
[data-theme="dark"] .ant-menu-item-selected {
  background-color: var(--aw-primary-900) !important;
  color: var(--aw-primary-400) !important;
}

/* Collapse 折叠面板 */
.dark .ant-collapse,
[data-theme="dark"] .ant-collapse {
  background-color: var(--aw-gray-100) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-collapse-header,
[data-theme="dark"] .ant-collapse-header {
  color: var(--aw-gray-900) !important;
  background-color: var(--aw-gray-200) !important;
}

.dark .ant-collapse-content,
[data-theme="dark"] .ant-collapse-content {
  background-color: var(--aw-gray-100) !important;
  border-color: var(--aw-gray-300) !important;
  color: var(--aw-gray-900) !important;
}

/* Steps 步骤条 */
.dark .ant-steps-item-title,
[data-theme="dark"] .ant-steps-item-title {
  color: var(--aw-gray-900) !important;
}

.dark .ant-steps-item-description,
[data-theme="dark"] .ant-steps-item-description {
  color: var(--aw-gray-600) !important;
}

.dark .ant-steps-item-wait .ant-steps-item-icon,
[data-theme="dark"] .ant-steps-item-wait .ant-steps-item-icon {
  background-color: var(--aw-gray-200) !important;
  border-color: var(--aw-gray-400) !important;
}

/* Timeline 时间线 */
.dark .ant-timeline-item-content,
[data-theme="dark"] .ant-timeline-item-content {
  color: var(--aw-gray-900) !important;
}

.dark .ant-timeline-item-tail,
[data-theme="dark"] .ant-timeline-item-tail {
  border-color: var(--aw-gray-400) !important;
}

/* Avatar 头像 */
.dark .ant-avatar,
[data-theme="dark"] .ant-avatar {
  background-color: var(--aw-gray-300) !important;
  color: var(--aw-gray-700) !important;
}

/* Badge 徽章 */
.dark .ant-badge-count,
[data-theme="dark"] .ant-badge-count {
  box-shadow: 0 0 0 1px var(--aw-gray-100) !important;
}

/* Skeleton 骨架屏 */
.dark .ant-skeleton-content .ant-skeleton-title,
.dark .ant-skeleton-content .ant-skeleton-paragraph > li,
[data-theme="dark"] .ant-skeleton-content .ant-skeleton-title,
[data-theme="dark"] .ant-skeleton-content .ant-skeleton-paragraph > li {
  background: linear-gradient(90deg, var(--aw-gray-300) 25%, var(--aw-gray-200) 37%, var(--aw-gray-300) 63%) !important;
  background-size: 400% 100% !important;
}

/* Message 消息提示 */
.dark .ant-message-notice-content,
[data-theme="dark"] .ant-message-notice-content {
  background-color: var(--aw-gray-100) !important;
  color: var(--aw-gray-900) !important;
  box-shadow: 0 6px 16px 0 rgba(0, 0, 0, 0.3) !important;
}

/* Notification 通知 */
.dark .ant-notification-notice,
[data-theme="dark"] .ant-notification-notice {
  background-color: var(--aw-gray-100) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-notification-notice-message,
[data-theme="dark"] .ant-notification-notice-message {
  color: var(--aw-gray-900) !important;
}

.dark .ant-notification-notice-description,
[data-theme="dark"] .ant-notification-notice-description {
  color: var(--aw-gray-600) !important;
}

/* Result 结果页 */
.dark .ant-result-title,
[data-theme="dark"] .ant-result-title {
  color: var(--aw-gray-900) !important;
}

.dark .ant-result-subtitle,
[data-theme="dark"] .ant-result-subtitle {
  color: var(--aw-gray-600) !important;
}

/* Spin 加载中 */
.dark .ant-spin-text,
[data-theme="dark"] .ant-spin-text {
  color: var(--aw-gray-600) !important;
}

/* Tree 树形控件 */
.dark .ant-tree,
[data-theme="dark"] .ant-tree {
  background-color: var(--aw-gray-100) !important;
  color: var(--aw-gray-900) !important;
}

.dark .ant-tree-node-content-wrapper:hover,
[data-theme="dark"] .ant-tree-node-content-wrapper:hover {
  background-color: var(--aw-gray-200) !important;
}

.dark .ant-tree-node-selected,
[data-theme="dark"] .ant-tree-node-selected {
  background-color: var(--aw-primary-900) !important;
}

/* Transfer 穿梭框 */
.dark .ant-transfer-list,
[data-theme="dark"] .ant-transfer-list {
  background-color: var(--aw-gray-100) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-transfer-list-header,
[data-theme="dark"] .ant-transfer-list-header {
  background-color: var(--aw-gray-200) !important;
  border-color: var(--aw-gray-300) !important;
  color: var(--aw-gray-900) !important;
}

/* Cascader 级联选择 */
.dark .ant-cascader-dropdown,
[data-theme="dark"] .ant-cascader-dropdown {
  background-color: var(--aw-gray-100) !important;
}

.dark .ant-cascader-menu,
[data-theme="dark"] .ant-cascader-menu {
  background-color: var(--aw-gray-100) !important;
  border-color: var(--aw-gray-300) !important;
}

.dark .ant-cascader-menu-item,
[data-theme="dark"] .ant-cascader-menu-item {
  color: var(--aw-gray-900) !important;
}

.dark .ant-cascader-menu-item:hover,
[data-theme="dark"] .ant-cascader-menu-item:hover {
  background-color: var(--aw-gray-200) !important;
}

/* ========================================
   9. 打印样式
   ======================================== */

@media print {
  body {
    background-color: white !important;
    color: black !important;
  }

  .no-print {
    display: none !important;
  }

  .page-break {
    page-break-before: always;
  }
}

/* ========================================
   9. 减少动画 (无障碍支持)
   ======================================== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
