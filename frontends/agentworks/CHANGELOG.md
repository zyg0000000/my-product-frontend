# AgentWorks 更新日志

## v2.5.0 (2025-11-18)

### ✨ 搜索筛选系统
- **综合搜索筛选模块**
  - 基础搜索：支持达人名称和OneID搜索
  - 高级筛选面板：可折叠展开
  - 多维度筛选：达人层级、内容标签、返点率、价格区间
  - 智能条件渲染：无数据时显示友好提示
  - 筛选结果统计：实时显示匹配数量

- **价格筛选优化**
  - 价格档位改为多选勾选框
  - 修复价格单位转换问题（元/分）
  - 支持多档位同时筛选
  - 小红书平台默认显示图文笔记价格

- **筛选面板UI优化**
  - 内容标签区域限高滚动
  - 标签数量超过10个时显示计数
  - 已选标签统计显示
  - 悬停效果提升交互体验

### 🔧 Bug修复
- **返点率筛选问题**
  - 修复数据库存储百分比但代码错误乘100的问题
  - 返点率现在正确显示（如30%而非3000%）

- **三点菜单优化**
  - 从居中模态框改为定位下拉菜单
  - 菜单显示在点击位置附近
  - 符合原始设计规范

- **平台切换优化**
  - 达人详情页返回列表时保持平台选择
  - 各平台独立记忆价格档位选择
  - 小红书默认显示图文笔记价格

### 📝 文档更新
- 完成所有alert()到Toast的迁移
- 更新UI/UX开发规范
- 优化开发指南结构

---

## v2.4.2 (2025-11-17)

### ✨ UI/UX 全面优化
- **Toast通知系统全面迁移完成**
  - 所有页面不再使用 `alert()` 弹窗
  - 统一使用 Toast 组件进行用户反馈
  - 提升用户体验的一致性

### 🐛 Bug修复
- 修复价格显示N/A问题
- 修复操作菜单显示位置

---

## v2.4.0 (2025-11-17)

### ✨ 机构管理增强

#### 达人数量统计
- 机构列表页显示每个机构的实际达人数量
- 并行 API 调用优化性能
- 自动刷新统计数据

### ✨ 返点系统 - 机构绑定功能

#### 返点模式管理
- **模式切换开关**：在"当前配置" Tab 中提供开关
  - 绑定机构返点模式
  - 独立设置返点模式
- **动态 Tab 显示**：根据模式显示不同功能
  - 绑定模式：显示"机构同步" Tab
  - 独立模式：显示"手动调整" Tab

#### 机构同步 Tab
- 显示归属机构和当前返点率
- 一键从机构同步返点配置
- 同步后自动切换到绑定模式
- 实时状态更新和成功提示

#### 手动调整优化
- 手动调整后自动切换到独立模式
- 表单状态持久化
- 成功提示改为内联横幅（3秒自动消失）

#### 返点来源优化
- 绑定模式下显示"机构同步"
- 独立模式下显示实际来源（手动/规则等）
- 准确反映返点率来源

### 🔧 技术优化

#### 状态管理
- 本地 rebateMode 状态管理
- 状态持久化到数据库
- Tab 显示逻辑重构

#### API 集成
- getTalentRebate v2.0：返回 rebateMode 和 agencyName
- syncAgencyRebateToTalent v1.0：新增同步接口
- updateTalentRebate v1.1：自动设置独立模式

### 🐛 Bug 修复
- 修复 Tab 无限闪烁问题
- 修复同步状态更新延迟
- 修复错误提示显示

---

## v2.3.0 (2025-11-16)

### ✨ 新功能
- 机构返点管理弹窗
- 批量更新机构返点率
- 返点同步机制优化

### 🔧 优化
- API 响应速度提升
- 数据一致性改进
- UI 交互流畅度提升

---

## v2.2.0 (2025-11-15)

### ✨ 返点系统核心功能
- 达人返点配置管理
- 返点历史记录追踪
- 多来源返点率支持

### 📊 数据管理
- 价格数据时间序列化
- 返点数据版本控制
- 历史数据查询优化

---

## v2.1.0 (2025-11-14)

### ✨ 达人管理系统
- 多平台达人管理（抖音、小红书、B站、快手）
- 价格档位管理
- 基础信息维护

### 🎨 UI组件
- Toast 通知组件
- 模态框组件系统
- 响应式表格设计

---

## v2.0.0 (2025-11-13)

### 🎉 AgentWorks 2.0 发布
- 全新 React + TypeScript 架构
- Tailwind CSS 设计系统
- Vite 构建工具链
- 模块化组件设计

---

**维护者**: Claude Code
**最后更新**: 2025-11-18

🤖 Generated with [Claude Code](https://claude.com/claude-code)