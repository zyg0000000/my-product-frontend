#!/bin/sh

echo "ğŸ” Running pre-push checks..."

# è¿›å…¥ agentworks ç›®å½•
cd frontends/agentworks

# TypeScript ç±»å‹æ£€æŸ¥ï¼ˆå¿…é¡»é€šè¿‡ï¼ŒCloudflare æ„å»ºä¾èµ–ï¼‰
echo "ğŸ“ TypeScript type checking..."
npm run type-check
if [ $? -ne 0 ]; then
  echo "âŒ TypeScript errors found. Please fix them before pushing."
  exit 1
fi

# ESLint æ£€æŸ¥ï¼ˆä»…è­¦å‘Šï¼Œä¸é˜»æ­¢æ¨é€ï¼‰
echo "ğŸ”§ ESLint checking..."
npm run lint || echo "âš ï¸ ESLint found some issues (non-blocking)"

echo "âœ… Pre-push checks completed!"
